version: "3.8"

services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: cheetah-backend
    ports:
      - "5000:5000"
    env_file:
      - ./backend/.env
    volumes:
      - ./backend:/app
    restart: unless-stopped

  frontend:
    build:
      context: .               # ðŸ‘ˆ à¹ƒà¸Šà¹‰ root à¹€à¸›à¹‡à¸™ build context
      dockerfile: frontend.Dockerfile  # ðŸ‘ˆ à¹ƒà¸Šà¹‰ Dockerfile à¸—à¸µà¹ˆ root à¸«à¸£à¸·à¸­à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆ
    container_name: cheetah-frontend
    ports:
      - "3000:80"
    environment:
      - REACT_APP_API_BASE_URL=http://localhost:5000
    restart: unless-stopped
